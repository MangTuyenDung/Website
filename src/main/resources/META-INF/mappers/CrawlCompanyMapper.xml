<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="vn.mangtuyendung.persistence.repositories.CrawlCompanyRepository">

    <cache type="org.mybatis.caches.ehcache.EhcacheCache"/>
    
    <select id="findById" resultType="CrawlCompanyDomain" flushCache="false" useCache="true">
        SELECT 
        ID,
        COMPANY_URL as companyURL,
        COMPANY_NAME as companyName, 
        COMPANY_NAME_ENGLISH as companyNameEnglish, 
        COMPANY_ADDRESS as companyAddress, 
        COMPANY_PHONE as companyPhone, 
        COMPANY_TAX_CODE as companyTaxCode, 
        COMPANY_BUSINESS_SCOPE as companyBusinessScope, 
        COMPANY_OVERVIEW as companyOverview, 
        COMPANY_RANGE as companyRange, 
        COMPANY_WEBSITE as companyWebsite, 
        COMPANY_EMAIL as companyEmail,
        CREATED
        FROM job_company
        WHERE ID = #{id}
    </select>
    
    <select id="countBy" resultType="long" flushCache="false" useCache="true">
        SELECT count(*) 
        FROM job_company
    </select>
    
    <insert id="save" parameterType="CrawlCompanyDomain" flushCache="true">
        INSERT INTO job_company
        (ID, COMPANY_URL, COMPANY_NAME, COMPANY_NAME_ENGLISH, COMPANY_ADDRESS, COMPANY_PHONE, COMPANY_TAX_CODE, COMPANY_BUSINESS_SCOPE, COMPANY_OVERVIEW, COMPANY_RANGE, COMPANY_WEBSITE, COMPANY_EMAIL)
        VALUES
        (#{id}, #{companyURL}, #{companyName}, #{companyNameEnglish}, #{companyAddress}, #{companyPhone}, #{companyTaxCode}, #{companyBusinessScope}, #{companyOverview}, #{companyRange}, #{companyWebsite}, #{companyEmail})
    </insert>
</mapper>